DROP USER IF EXISTS 'STUDENT'@'localhost';
DROP USER IF EXISTS 'LECTURER'@'localhost';
DROP USER IF EXISTS 'TECH_OFFICER'@'localhost';
DROP USER IF EXISTS 'DEAN'@'localhost';
DROP USER IF EXISTS 'ADMIN'@'localhost';

-- Tharinda
CREATE USER 'STUDENT'@'localhost' IDENTIFIED BY 'student123';
GRANT EXECUTE ON PROCEDURE grp14.Final_Marks_Only TO 'STUDENT'@'localhost';
GRANT EXECUTE ON PROCEDURE grp14.SingleStudentSummary TO 'STUDENT'@'localhost';
GRANT EXECUTE ON PROCEDURE grp14.Calculate_SGPA TO 'STUDENT'@'localhost';
GRANT EXECUTE ON PROCEDURE grp14.Calculate_CGPA TO 'STUDENT'@'localhost';
GRANT EXECUTE ON PROCEDURE grp14.final_student_eligibility TO 'STUDENT'@'localhost';
GRANT SELECT ON grp14.CourseAttendanceSummary TO 'STUDENT'@'localhost';
FLUSH PRIVILEGES;



-- Imashi
CREATE USER 'LECTURER'@'localhost' IDENTIFIED BY 'lecturer123';
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, SHOW VIEW ON grp14.* TO 'LECTURER'@'localhost';
GRANT EXECUTE ON grp14.* TO 'LECTURER'@'localhost';
FLUSH PRIVILEGES;

CREATE USER 'TECH_OFFICER'@'localhost' IDENTIFIED BY 'tech123';
GRANT EXECUTE ON PROCEDURE grp14.AttendanceByCourseSummary TO 'TECH_OFFICER'@'localhost';
GRANT EXECUTE ON PROCEDURE grp14.SingleStudentSummary TO 'TECH_OFFICER'@'localhost';
GRANT SELECT ON grp14.BatchAttendanceCategory TO 'TECH_OFFICER'@'localhost';
GRANT EXECUTE ON PROCEDURE grp14.AttendanceByStudentCourse TO 'TECH_OFFICER'@'localhost';
GRANT SELECT,INSERT,UPDATE ON Grp14.ATTENDANCE TO 'TECH_OFFICER'@'localhost';
FLUSH PRIVILEGES;


-- Samadhi
CREATE USER 'ADMIN'@'localhost' IDENTIFIED BY 'admin123';
CREATE USER 'DEAN'@'localhost' IDENTIFIED BY 'dean123';

GRANT ALL PRIVILEGES ON Grp14.* 
TO 'ADMIN'@'localhost' 
WITH GRANT OPTION;
GRANT EXECUTE ON grp14.* TO 'ADMIN'@'localhost';

GRANT ALL PRIVILEGES ON Grp14.* 
TO 'DEAN'@'localhost';
GRANT EXECUTE ON grp14.* TO 'DEAN'@'localhost';
FLUSH PRIVILEGES;
